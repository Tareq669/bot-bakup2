# ๐ ุฏููู ูุนุงูุฌุงุช ุงูุฅุฏุงุฑุฉ ุงูุดุงููุฉ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ 15 ูุนุงูุฌ ุฌุฏูุฏ ููุธุงู ุงูุฅุฏุงุฑุฉ ุงูุดุงูู ูู ุงูุจูุชุ ูููุฑ ูููุงูููู ุชุญููุงู ูุงููุงู ุนูู:
- โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (ุงูุจุญุซุ ุงูุญุธุฑุ ุฅูุบุงุก ุงูุญุธุฑุ ุงูุฅุฐุงุนุฉ)
- โ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ (ุฅุญุตุงุฆูุงุช ุงูุจูุชุ ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู)
- โ ุงูุฃูุงู (ุงูุณุฌูุงุชุ ูุนุฏูุงุช ุงูุชุญุฏูุฏุ ุงูุชุญูู)
- โ ุฅุฏุงุฑุฉ ุงููุญุชูู (ุฅุญุตุงุฆูุงุช ุงููุญุชููุ ุงูุฅุถุงูุฉุ ุงูุชุนุฏูู)
- โ ุงูุฅุญุตุงุฆูุงุช ุงููุชูุฏูุฉ (ุงููุณุชุฎุฏูููุ ุงูุฃูุนุงุจุ ุงูุงูุชุตุงุฏ)

---

## 1๏ธโฃ ูุนุงูุฌุงุช ุงูุฅุฌุฑุงุกุงุช (Action Handlers)

### ุฃ) ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ

#### `settings:general` - ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ
```
ูุณุงุฑ ุงูุชูุนูู: ุงูุฅุนุฏุงุฏุงุช โ ุฅุนุฏุงุฏุงุช ุนุงูุฉ
ุงููุนุงูุฌ: MenuHandler.handleGeneralSettings()
ุงูููุฒุงุช:
  โ ุนุฑุถ ุนุฏุฏ ุงููุณุชุฎุฏููู
  โ ุญุงูุฉ ุงูุจูุช
  โ ุฅุฏุงุฑุฉ ุงูุฑุณุงุฆู
  โ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช
  โ ูุนูููุงุช ุงูุฌุฏููุฉ
```

#### `settings:users` - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
```
ูุณุงุฑ ุงูุชูุนูู: ุงูุฅุนุฏุงุฏุงุช โ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
ุงููุนุงูุฌ: MenuHandler.handleUserManagement()
ุงูููุฒุงุช:
  โ ุนุฏุฏ ุงููุณุชุฎุฏููู ุงูููู
  โ ุฅุญุตุงุฆูุงุช ุงููุญุธูุฑูู
  โ ุงููุณุชุฎุฏููู ุงููุดุทูู ุงูููู
  โ ุงูุจุญุซ ุนู ุงููุณุชุฎุฏู
  โ ุงูุฅุฐุงุนุฉ ูุฌููุน ุงููุณุชุฎุฏููู
```

#### `settings:security` - ุงูุฃูุงู
```
ูุณุงุฑ ุงูุชูุนูู: ุงูุฅุนุฏุงุฏุงุช โ ุงูุฃูุงู
ุงููุนุงูุฌ: MenuHandler.handleSecuritySettings()
ุงูููุฒุงุช:
  โ ุฅุนุฏุงุฏุงุช ูุนุฏู ุงูุชุญุฏูุฏ
  โ ุงูุชุญูู ูู ุงููุณุชุฎุฏููู
  โ ุนุฑุถ ุณุฌูุงุช ุงูุฃูุงู
  โ ุฅุญุตุงุฆูุงุช ูุญุงููุงุช ุงูุฏุฎูู
```

#### `settings:content` - ุฅุฏุงุฑุฉ ุงููุญุชูู
```
ูุณุงุฑ ุงูุชูุนูู: ุงูุฅุนุฏุงุฏุงุช โ ุฅุฏุงุฑุฉ ุงููุญุชูู
ุงููุนุงูุฌ: MenuHandler.handleContentManagement()
ุงูููุฒุงุช:
  โ ุฅุญุตุงุฆูุงุช ุงููุญุชูู (ุงููุฑุขูุ ุงูุฃุฐูุงุฑุ ุงูุงูุชุจุงุณุงุช)
  โ ุฅุถุงูุฉ ูุญุชูู ุฌุฏูุฏ
  โ ุชุนุฏูู ุงููุญุชูู ุงูููุฌูุฏ
  โ ุญุฐู ุงููุญุชูู
  โ ุนุฑุถ ุงููุดุงูุฏุงุช ูุงููุญููุธุงุช
```

#### `settings:stats` - ุงูุฅุญุตุงุฆูุงุช
```
ูุณุงุฑ ุงูุชูุนูู: ุงูุฅุนุฏุงุฏุงุช โ ุงูุฅุญุตุงุฆูุงุช
ุงููุนุงูุฌ: MenuHandler.handleAdminStats()
ุงูููุฒุงุช:
  โ ุนุฏุฏ ุงููุณุชุฎุฏููู
  โ ุงููุณุชุฎุฏููู ุงููุดุทูู
  โ ุฅุฌูุงูู ุงูุนููุงุช
  โ ุนุฏุฏ ุงููุนุงููุงุช
  โ ุชุญููู ุงูุฃูุดุทุฉ
```

### ุจ) ูุนุงูุฌุงุช ุงูุฏูุงู ุงููุณุงุนุฏุฉ

#### `admin:search` - ุงูุจุญุซ ุนู ุงููุณุชุฎุฏู
```
ูููุนูู ููุท ุงูุจุญุซ ุนู ูุณุชุฎุฏู
ุงููุนุงูุฌ: MenuHandler.handleSearchUser()
ุงูุฅุฏุฎุงู: ูุนุฑูู ุงููุณุชุฎุฏู ุฃู ุงูุงุณู
```

#### `security:logs` - ุณุฌูุงุช ุงูุฃูุงู
```
ุนุฑุถ ุณุฌูุงุช ูุญุงููุงุช ุงูุฏุฎูู ูุงูุฃูุดุทุฉ ุงูุฃูููุฉ
ุงููุนุงูุฌ: MenuHandler.handleSecurityLogs()
```

#### `content:stats` - ุฅุญุตุงุฆูุงุช ุงููุญุชูู
```
ุนุฑุถ ุชูุงุตูู ุฅุญุตุงุฆูุงุช ุงููุญุชูู
ุงููุนุงูุฌ: MenuHandler.handleContentStats()
```

#### `stats:users` - ุฅุญุตุงุฆูุงุช ุงููุณุชุฎุฏููู
```
ุนุฑุถ ุฃูุถู ูุณุชุฎุฏููู ุญุณุจ ุงูููุงุท
ุงููุนุงูุฌ: MenuHandler.handleStatsUsers()
```

#### `stats:games` - ุฅุญุตุงุฆูุงุช ุงูุฃูุนุงุจ
```
ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงูุฃูุนุงุจ ูุงููุงุฆุฒูู
ุงููุนุงูุฌ: MenuHandler.handleStatsGames()
```

### ุฌ) ูุนุงูุฌุงุช ุงูุญุธุฑ ูุงูุณูุงุญ

#### `admin:ban:{userId}` - ุญุธุฑ ูุณุชุฎุฏู
```
ุญุธุฑ ูุณุชุฎุฏู ูุนูู
ุงููุณุชุฎุฏู ุงููุญุธูุฑ:
  - ูุง ููููู ุงุณุชุฎุฏุงู ุฃูุงูุฑ ุงูุจูุช
  - ูุชู ุชุณุฌูู ููุช ุงูุญุธุฑ
  - ูุชู ุญูุธ ุณุจุจ ุงูุญุธุฑ
```

#### `admin:unban:{userId}` - ุฅูุบุงุก ุงูุญุธุฑ
```
ุฅูุบุงุก ุญุธุฑ ูุณุชุฎุฏู
ุงููุณุชุฎุฏู ุงููุณููุญ:
  - ุงุณุชุนุงุฏุฉ ุฌููุน ุงูุตูุงุญูุงุช
  - ูุณุญ ูุนูููุงุช ุงูุญุธุฑ
```

#### `admin:broadcast` - ุงูุฅุฐุงุนุฉ ุงูุนุงูุฉ
```
ุฅุฑุณุงู ุฑุณุงูุฉ ูุฌููุน ุงููุณุชุฎุฏููู
ุงูููุฒุงุช:
  โ ุฅุฑุณุงู ุฅูู ุฌููุน ุงููุณุชุฎุฏููู ุบูุฑ ุงููุญุธูุฑูู
  โ ุนุฏูุงุฏ ุงูุฑุณุงุฆู ุงููุฑุณูุฉ ูุงููุงุดูุฉ
  โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุฅุฑุณุงู
```

---

## 2๏ธโฃ ูุนุงูุฌุงุช ุงููุตูุต (Text Handlers)

### ูุนุงูุฌุฉ ุฅุฏุฎุงู ุงูุจุญุซ
```javascript
// ูููุนูู ุนูุฏ ุงุฎุชูุงุฑ "ุงูุจุญุซ ุนู ูุณุชุฎุฏู"
ctx.session.adminAwait = { type: 'searchUser' }
// ุงููุณุชุฎุฏู ูุฏุฎู ูุนุฑูู ุฃู ุงุณู
// ุงููุชูุฌุฉ: ุนุฑุถ ูุนูููุงุช ุงููุณุชุฎุฏู ูุน ุฃุฒุฑุงุฑ ุงูุญุธุฑ/ุงูุณูุงุญ
```

### ูุนุงูุฌุฉ ุงูุฅุฐุงุนุฉ
```javascript
// ูููุนูู ุนูุฏ ุงุฎุชูุงุฑ "ุฅุฑุณุงู ุฑุณุงูุฉ ุนุงูุฉ"
ctx.session.adminAwait = { type: 'broadcast' }
// ุงููุณุชุฎุฏู ูุฏุฎู ุงูุฑุณุงูุฉ
// ุงููุชูุฌุฉ: ุฅุฑุณุงู ูุฌููุน ุงููุณุชุฎุฏููู + ุชูุฑูุฑ ุงูุฅุฑุณุงู
```

---

## 3๏ธโฃ ุงูุฅุฌุฑุงุกุงุช ุงููุณุงุนุฏุฉ

### ูุนุงูุฌ ุงูุฅุบูุงู
```
action: 'close'
ูุบูู ุงูููุงูุฐ ุงูููุณุฏูุฉ ูุงูููุงุฆู ุงูุญุงููุฉ
```

---

## 4๏ธโฃ ุงูุงุณุชุฎุฏุงู ุงูุนููู

### ุณููุงุฑูู 1: ุงูุจุญุซ ุนู ูุณุชุฎุฏู ูุญุธุฑู
```
1. ุงููุงูู ูุถุบุท ุนูู โ๏ธ ุงูุฅุนุฏุงุฏุงุช
2. ูุฎุชุงุฑ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
3. ูุถุบุท ุนูู ๐ ุจุญุซ ุนู ูุณุชุฎุฏู
4. ูุฏุฎู ูุนุฑูู ุงููุณุชุฎุฏู ุฃู ุงุณูู
5. ูุธูุฑ ููู ุงููุณุชุฎุฏู ูุน ุฎูุงุฑุงุช ุงูุญุธุฑ/ุงูุณูุงุญ
6. ูุถุบุท "ุญุธุฑ" ูุญุธุฑ ุงููุณุชุฎุฏู
```

### ุณููุงุฑูู 2: ุงูุฅุฑุณุงู ุงูุนุงู
```
1. ุงููุงูู ูุฎุชุงุฑ ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
2. ูุถุบุท ุนูู ๐ข ุฅุฑุณุงู ุฑุณุงูุฉ ุนุงูุฉ
3. ููุชุจ ุงูุฑุณุงูุฉ ุงููุฑุงุฏ ุฅุฑุณุงููุง
4. ูุชู ุงูุฅุฑุณุงู ูุฌููุน ุงููุณุชุฎุฏููู ุบูุฑ ุงููุญุธูุฑูู
5. ูุธูุฑ ุชูุฑูุฑ ุจุนุฏุฏ ุงูุฑุณุงุฆู ุงููุฑุณูุฉ ูุงููุงุดูุฉ
```

### ุณููุงุฑูู 3: ุนุฑุถ ุงููุญุชูู ุงูุฅุญุตุงุฆูุงุช
```
1. ุงููุงูู ูุฎุชุงุฑ ุงูุฅุนุฏุงุฏุงุช โ ุงูุฅุญุตุงุฆูุงุช
2. ูุธูุฑ:
   - ุนุฏุฏ ุงููุณุชุฎุฏููู
   - ุงููุณุชุฎุฏููู ุงููุดุทูู
   - ุฅุฌูุงูู ุงูุนููุงุช
   - ุฅุญุตุงุฆูุงุช ุงููุนุงููุงุช
3. ููููู ุนุฑุถ ุชูุงุตูู ุงููุณุชุฎุฏููู ุฃู ุงูุฃูุนุงุจ
```

---

## 5๏ธโฃ ููุงุฐุฌ ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ

### User Model
```javascript
{
  userId: Number,           // ูุนุฑูู Telegram
  firstName: String,        // ุงูุงุณู ุงูุฃูู
  xp: Number,             // ููุงุท ุงูุชุฌุฑุจุฉ
  level: Number,          // ุงููุณุชูู
  coins: Number,          // ุงูุนููุงุช
  banned: Boolean,        // ุญุงูุฉ ุงูุญุธุฑ
  bannedAt: Date,         // ุชุงุฑูุฎ ุงูุญุธุฑ
  bannedReason: String,   // ุณุจุจ ุงูุญุธุฑ
  joinedAt: Date,         // ุชุงุฑูุฎ ุงูุงูุถูุงู
  lastActive: Date        // ุขุฎุฑ ูุดุงุท
}
```

### Transaction Model
```javascript
{
  userId: Number,         // ูุนุฑูู ุงููุณุชุฎุฏู
  amount: Number,        // ุงููุจูุบ
  type: String,          // ููุน ุงููุนุงููุฉ
  reason: String,        // ุงูุณุจุจ
  date: Date,            // ุงูุชุงุฑูุฎ
  balance: Number        // ุงูุฑุตูุฏ ุจุนุฏ ุงููุนุงููุฉ
}
```

---

## 6๏ธโฃ ุงูุฃูุงู ูุงูุตูุงุญูุงุช

### ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
```javascript
// ุฌููุน ูุนุงูุฌุงุช ุงูุฅุฏุงุฑุฉ ูุญููุฉ ุจูุญุต ุงููุงูู
const ownerIds = (process.env.BOT_OWNERS || '').split(',').map(id => id.trim());
if (!ownerIds.includes(ctx.from.id.toString())) {
  return ctx.reply('โ ููุณ ูุฏูู ุตูุงุญูุฉ ูููุตูู ููุฐู ุงูููุฒุฉ');
}
```

### ุญุงูุงุช ุงููุดู ุงูุขููุฉ
```
- ุงูุจุญุซ ุนู ูุณุชุฎุฏู ุบูุฑ ููุฌูุฏ โ โ ูู ูุชู ุงูุนุซูุฑ ุนูู ุงููุณุชุฎุฏู
- ูุญุงููุฉ ุญุธุฑ ูุณุชุฎุฏู ูุญุธูุฑ โ โ ุชู ุญุธุฑ ุงููุณุชุฎุฏู (ูุง ูุชุบูุฑ)
- ูุดู ุงูุฅุฑุณุงู ุงูุนุงู โ โ ุชูุฑูุฑ ุจุงูููุฑุณู ูุงููุงุดู
- ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช โ โ ุฑุณุงูุฉ ุฎุทุฃ ุขููุฉ
```

---

## 7๏ธโฃ ุงูุฅุญุตุงุฆูุงุช ุงููุชููุฑุฉ

### ุฅุญุตุงุฆูุงุช ุณุฑูุนุฉ
```
๐ฅ ุนุฏุฏ ุงููุณุชุฎุฏููู ุงูููู
๐ข ุงููุณุชุฎุฏููู ุงููุดุทูู ุงูููู
๐ซ ุงููุณุชุฎุฏููู ุงููุญุธูุฑูู
๐ฐ ุฅุฌูุงูู ุงูุนููุงุช ูู ุงููุธุงู
๐ ูุนุฏู ุงูุนููุงุช ููู ูุณุชุฎุฏู
๐ ุฃุนูู ุฑุตูุฏ ููุณุชุฎุฏู ูุงุญุฏ
```

### ูุนูููุงุช ุงููุณุชุฎุฏู ุงููุฑุฏู
```
๐ค ุงูุงุณู ุงููุงูู
๐ ูุนุฑูู Telegram
โญ ููุงุท ุงูุชุฌุฑุจุฉ
๐๏ธ ุงููุณุชูู ุงูุญุงูู
๐ฐ ุฑุตูุฏ ุงูุนููุงุช
๐ ุชุงุฑูุฎ ุงูุงูุถูุงู
๐ด ุญุงูุฉ ุงูุญุธุฑ (ุฅู ูุฌุฏ)
```

---

## 8๏ธโฃ ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ

### ูุนุฏู ุงูุชุญุฏูุฏ (Rate Limiting)
```
- ูุญูู ูู ุงูุฅุณุงุกุฉ ุงูุฌูุงุนูุฉ
- ูููู ุงููุณุชุฎุฏููู ุงูุฐูู ูุฑุณููู ุฑุณุงุฆู ูุชูุฑุฑุฉ ุจูุซุฑุฉ
- ูุณูุญ ุจู 10 ุฑุณุงุฆู ูู ุณุงุนุฉ ูุงุญุฏุฉ
```

### ุงูุชุญูู (Verification)
```
- ุงููุณุชุฎุฏููู ุงูุฌุฏุฏ ููุฑูู ุนูู ุงุฎุชุจุงุฑ ุชุญูู
- ูุชู ุญูุธ ุญุงูุฉ ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ูุณูุญ ุงููุตูู ููุท ูููุณุชุฎุฏููู ุงููุชุญูููู
```

### ุงูุณุฌูุงุช ุงูุฃูููุฉ (Security Logs)
```
- ุชุณุฌูู ุฌููุน ูุญุงููุงุช ุงูุฏุฎูู
- ุชุณุฌูู ุงููุญุงููุงุช ุงููุงุดูุฉ
- ุชุณุฌูู ุงูุญุณุงุจุงุช ุงููุญุธูุฑุฉ
```

---

## 9๏ธโฃ ูุตุงุฆุญ ุงูุงุณุชุฎุฏุงู

โ **ุงูุฃูุถููุงุช:**
- ุงุณุชุฎุฏู ุงูุจุญุซ ููุจุญุซ ุนู ูุณุชุฎุฏู ูุนูู ูุจู ุงูุญุธุฑ
- ุงุญูุธ ุณุจุจ ุงูุญุธุฑ ูุฃุบุฑุงุถ ุงูุฃุฑุดูุฉ
- ุฑุงุฌุน ุงูุฅุญุตุงุฆูุงุช ุจุงูุชุธุงู ููุฑุงูุจุฉ ุตุญุฉ ุงูุจูุช
- ุงุณุชุฎุฏู ุงูุฅุฑุณุงู ุงูุนุงู ููุฅุนูุงูุงุช ุงููููุฉ ููุท

โ๏ธ **ุงูุงุญุชูุงุทุงุช:**
- ุชุญูู ูู ูุนุฑูู ุงููุณุชุฎุฏู ูุจู ุงูุญุธุฑ
- ูุง ุชุญุฐู ูุญุชูู ููู ุฏูู ุชุฃููุฏ
- ุงุฑุงูุจ ุญุฏูุฏ ูุนุฏู ุงูุฅุฑุณุงู ูุนุฏู ุงุฑุชูุงุน ุงูุฃุฎุทุงุก
- ุงุญุชูุธ ุจุณุฌูุงุช ุงูุญุธุฑ ูุฃุบุฑุงุถ ูุงููููุฉ

---

## ๐ ุงุณุชููุงู ุงููุณุชูุจู

### ุงููููุฒุงุช ุงููุฎุทุท ุฅุถุงูุชูุง:
- [ ] ุชูุงุฑูุฑ ููุตูุฉ ุจุตูุบุฉ PDF
- [ ] ุชุตุฏูุฑ ุงูุฅุญุตุงุฆูุงุช ุฅูู ููู CSV
- [ ] ุฌุฏููุฉ ุงูุฑุณุงุฆู ุงูุนุงูุฉ ุชููุงุฆูุงู
- [ ] ุฃููุงุท ุญุธุฑ ูุชูุฏูุฉ (ูุคูุช / ุฏุงุฆู)
- [ ] ุณุฌูุงุช ูุฑุฆูุฉ ููุญุธุฑ ูุงูุณูุงุญ
- [ ] ุฅุฏุงุฑุฉ ุงููุญุชูู ูู ุฎูุงู ูุงุฌูุฉ ุจุตุฑูุฉ
- [ ] ุชูุจููุงุช ููุฑูุฉ ูููุดุงุท ุงููุฑูุจ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2024-02-08  
**ุงูุฅุตุฏุงุฑ:** 2.2.5  
**ุงูุญุงูุฉ:** โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู

# ูุธุงู ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุงูุชููุงุฆู ููุจูุช ๐ค๐

## ูุง ุชู ุชุญุฏูุซู

ุชู ุชุญุณูู ุงูุจูุช ุจุดูู ูุจูุฑ ูุฌุนูู ูุนูู ุจุดูู ูุณุชูุฑ ุญุชู ุนูุฏ ูุทุน ุงูุฅูุชุฑูุช. ุฅููู ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:

### 1. **ูุธุงู ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุงูุชููุงุฆู** โ
- ุฅุนุงุฏุฉ ูุญุงููุฉ ุงูุงุชุตุงู ุจู MongoDB ู Telegram ุชููุงุฆูุงู
- ุงุณุชุฎุฏุงู **Exponential Backoff** ูุชูููู ุงูุถุบุท ุนูู ุงูุฎูุงุฏู
- ุนุฏุฏ ูุญุงููุงุช ูุนููู (50 ูุญุงููุฉ ูุจู ุงูุงุณุชุณูุงู)
- ุชุฃุฎูุฑ ุฏููุงูููู ูุจุฏุฃ ูู 3 ุซูุงูู ููุตู ุฅูู 5 ุฏูุงุฆู

### 2. **ูุฑุงูุจุฉ ุงุชุตุงู ุงูุฅูุชุฑูุช** ๐
- ูุญุต ุฏูุฑู ูุญุงูุฉ ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช ูู 10 ุซูุงูู
- ุฅุนุงุฏุฉ ุงุชุตุงู ุชููุงุฆู ุนูุฏ ุนูุฏุฉ ุงูุฅูุชุฑูุช
- ุชูุจููุงุช ููุฑูุฉ ุนูุฏ ููุฏุงู ุฃู ุงุณุชุนุงุฏุฉ ุงูุงุชุตุงู

### 3. **ูุญุต ุตุญุฉ ุงูุจูุช** ๐
- ูุฑุงูุจุฉ ุฏูุฑูุฉ ูุตุญุฉ ุงูุจูุช ูุงููุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุฏูููุฉ
- ุชุชุจุน ูุฏุฉ ุงูุชุดุบูู
- ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
- ุนุฏ ุงูุฃุฎุทุงุก ูุงููุญุงููุงุช

### 4. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุชูุฏูุฉ** ๐ก๏ธ
- ูุนุงูุฌุฉ ุงุณุชุซูุงุกุงุช ุบูุฑ ูุชููุนุฉ
- ุฅุนุงุฏุฉ ุชุดุบูู ุชููุงุฆู ุนูุฏ ูุดู ุญุฑุฌ
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ

## ุงููููุงุช ุงูุฌุฏูุฏุฉ

### 1. `src/utils/reconnect.js`
ูู ูุฆุฉ `ReconnectManager` ุงูุชู ุชุฏูุฑ ุฅุนุงุฏุฉ ุงูุงุชุตุงู:
- `connect()` - ูุญุงููุฉ ุงูุงุชุตุงู
- `startAutoReconnect()` - ุจุฏุก ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุงูุชููุงุฆู
- `startHealthCheck()` - ูุญุต ุตุญุฉ ุงูุงุชุตุงู

### 2. `src/utils/connectionMonitor.js`
ูู ูุฆุฉ `ConnectionMonitor` ุงูุชู ุชุฑุงูุจ ุงูุฅูุชุฑูุช:
- `checkConnection()` - ูุญุต ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
- `startMonitoring()` - ูุฑุงูุจุฉ ุฏูุฑูุฉ ููุฅูุชุฑูุช
- `getStatus()` - ุงูุญุงูุฉ ุงูุญุงููุฉ

### 3. `src/utils/healthMonitor.js`
ูู ูุฆุฉ `BotHealthMonitor` ุงูุชู ุชุฑุงูุจ ุตุญุฉ ุงูุจูุช:
- `healthCheck()` - ูุญุต ุดุงูู ููุตุญุฉ
- `getFullReport()` - ุชูุฑูุฑ ููุตู
- `startPeriodicCheck()` - ูุญุต ุฏูุฑู
- `logError()` - ุชุณุฌูู ุงูุฃุฎุทุงุก

## ุงูุชุญุฏูุซุงุช ุนูู ุงููููุงุช ุงูููุฌูุฏุฉ

### `src/index.js`
- ุงุณุชูุฑุงุฏ ุงููุฏุฑุงุก ุงูุฌุฏุฏ
- ุงุณุชุจุฏุงู ุฏุงูุฉ `startBot()` ุจูุณุฎุฉ ูุญุณูุฉ
- ุฅุถุงูุฉ ุฃูุฑ `/health` ูููุณุคูููู
- ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก ูุงูุฅููุงู

### `src/database/db.js`
- ุฅุถุงูุฉ ูุนุงูุฌุงุช ูุฃุญุฏุงุซ ุงูุงุชุตุงู
- ุฏุงูุฉ `healthCheck()` ููุชุญูู ูู ุงูุตุญุฉ
- ุฑุณุงุฆู ุฎุทุฃ ุฃูุถู

## ุงูุฃูุงูุฑ ุงููุชุงุญุฉ

### `/health` (ูููุณุคูููู ููุท)
ูุนุฑุถ ุชูุฑูุฑ ุดุงูู ูุตุญุฉ ุงูุจูุช:
```
๐ ุชูุฑูุฑ ุตุญุฉ ุงูุจูุช
โฑ๏ธ ูุฏุฉ ุงูุชุดุบูู: 2ุณ 35ุฏ 12ุซ
๐พ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ: 125/256 MB
๐๏ธ ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช: โ ูุชุตู
โ๏ธ ุนุฏุฏ ุงูุฃุฎุทุงุก: 0
๐ ูุญุงููุงุช ุฅุนุงุฏุฉ ุงูุงุชุตุงู: 2
```

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุจุฏุก ุงูุนุงุฏู
```bash
npm start
```

### ุงููุฑุงูุจุฉ ุฃุซูุงุก ุงูุชุทููุฑ
```bash
npm run dev
```

## ุงูุณููู ุนูุฏ ูุทุน ุงูุฅูุชุฑูุช

1. ููุชุดู ุงูุจูุช ููุฏุงู ุงูุงุชุตุงู ุฎูุงู 10 ุซูุงูู
2. ูุจุฏุฃ ูุญุงููุงุช ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุชููุงุฆูุงู
3. ููุชุธุฑ ุนูู ุฃุณุงุณ exponential backoff (3 ุซุงููุฉุ 4.5 ุซุงููุฉุ 6.75 ุซุงููุฉุ ุฅูุฎ)
4. ูุณุชูุฑ ูู ุงููุญุงููุฉ ููุฏุฉ ุทูููุฉ (ุงูุญุฏ ุงูุฃูุตู 50 ูุญุงููุฉ)
5. ุนูุฏ ุนูุฏุฉ ุงูุฅูุชุฑูุชุ ูุนูุฏ ุงูุจูุช ููุนูู ุชููุงุฆูุงู

## ุงูุณููู ุนูุฏ ูุดู ูุงุนุฏุฉ ุงูุจูุงูุงุช

1. ููุชุดู ุงูุจูุช ููุฏุงู ุงูุงุชุตุงู ุจู MongoDB
2. ููุชุธุฑ ูุจู ุงููุญุงููุฉ ุงูุชุงููุฉ
3. ูุณุชูุฑ ูู ุงููุญุงููุฉ ุจุงุณุชุฎุฏุงู exponential backoff
4. ูุณูุญ ููุจูุช ุจุงูุนูู ุจููุงุกุฉ ูุญุฏูุฏุฉ ุฅุฐุง ูุฒู ุงูุฃูุฑ

## ุงูุฑุณุงุฆู ุงููุงูุฉ

- ๐ข **ูุชุตู** - ูู ุดูุก ูุนูู ุจุดูู ุทุจูุนู
- ๐ก **ุชุญุฐูุฑ** - ูุดุงูู ุซุงูููุฉ (ูุญุงููุงุช ุฌุงุฑูุฉ)
- ๐ด **ูุทุน** - ุงูุงุชุตุงู ููุทูุน (ูุญุงููุงุช ุฅุนุงุฏุฉ ุงูุงุชุตุงู)
- โ **ุงุณุชุนุงุฏุฉ** - ุชู ุงุณุชุนุงุฏุฉ ุงูุงุชุตุงู

## ุงููุฒุงูุง ุงูุฑุฆูุณูุฉ

โ ุงูุจูุช ูู ูุชููู ุนูุฏ ูุทุน ุงูุฅูุชุฑูุช
โ ุฅุนุงุฏุฉ ุงุชุตุงู ุชููุงุฆูุฉ ูุฐููุฉ
โ ูุฑุงูุจุฉ ุฏูุฑูุฉ ููุตุญุฉ
โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ูููุฉ
โ ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุคูููู
โ ุงุณุชููุงู ููุงุฑุฏ ุฃูู (exponential backoff)
โ ุชูุงุฑูุฑ ููุตูุฉ ุนู ุงูุญุงูุฉ

## ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ

ูููู ุชุฎุตูุต ูุฐู ุงูุฅุนุฏุงุฏุงุช ูู `src/index.js`:

```javascript
const reconnectManager = new ReconnectManager({
  maxRetries: 50,              // ุงูุญุฏ ุงูุฃูุตู ูููุญุงููุงุช
  initialDelay: 3000,          // ุงูุชุฃุฎูุฑ ุงูุงุจุชุฏุงุฆู (3 ุซูุงูู)
  maxDelay: 300000,            // ุงูุชุฃุฎูุฑ ุงูุฃูุตู (5 ุฏูุงุฆู)
  backoffMultiplier: 1.5,      // ูุนุงูู ุงูุฒูุงุฏุฉ
});
```

## ููุงุญุธุงุช ูููุฉ

- ุงูุจูุช ูุชุทูุจ Node.js 14+
- ุชุฃูุฏ ูู ูุฌูุฏ ููู `.env` ูุน ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
- ูุฌุจ ุฃู ุชููุฑ ูุนุฑูุงุช ุงููุณุคูููู ูู `.env`:
  ```
  OWNER_1_ID=123456789
  OWNER_2_ID=987654321
  ```

## ุงูุฏุนู ูุงูุชุทููุฑ ุงููุณุชูุจูู

ูุฏ ูุชู ุฅุถุงูุฉ ุงููุฒุงูุง ุงูุชุงููุฉ ูู ุงููุณุชูุจู:
- ูุธุงู ุชุณุฌูู ุงูุณุฌูุงุช (Logging) ุจููู
- ููุญุฉ ุชุญูู ููุจ ููุฑุงูุจุฉ ุงูุจูุช
- ูุธุงู ุฅุดุนุงุฑุงุช ูุชูุฏู
- ุฅุญุตุงุฆูุงุช ูุนููุฑุฉ

---

**ุชู ุงูุชุญุฏูุซ ูู ูุจุฑุงูุฑ 2026**

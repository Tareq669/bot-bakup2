## ๐ง ุฅุตูุงุญ ูุนุจุฉ ุงูุฃุณุฆูุฉ ุงูุซูุงููุฉ

### ุงููุดููุฉ ุงูุฃุตููุฉ โ
ูู ุณุคุงู ูููู "ุฎุทุฃ" ุญุชู ูู ูุงูุช ุงูุฅุฌุงุจุฉ ุตุญูุญุฉ.

### ุงูุณุจุจ ๐
ูู `startCulturalKnowledge()` ูุงู ูุญุงูู ุชุฎุฒูู:
```javascript
ctx.session.gameState = {
  game: 'quranic',
  type: game.type,
  answer: game.answer,  // โ ูุฐุง ุบูุฑ ููุฌูุฏ!
  reward: game.reward
};
```

ููู ูู `getCulturalKnowledgeGame()` ุงูุญูู ุงูููุฌูุฏ ูู `answerIndex` ูููุณ `answer`:
```javascript
{ 
  question: 'ูู ูู ุฃู ุงููุคูููู ุงูุฃูููุ', 
  options: ['ุฎุฏูุฌุฉ', 'ุนุงุฆุดุฉ', 'ุณูุฏุฉ', 'ุฃู ุณููุฉ'], 
  answerIndex: 0,  // <-- ุงูููุฑุณ (0 = ุฎุฏูุฌุฉ)
  reward: 15 
}
```

ุนูุฏูุง ูุฑุฏ ุงููุณุชุฎุฏู ุจู "A" ุฃู "1"ุ ูุงู ูุญุงูู ููุงุฑูุชูุง ูุน `undefined` ูููุดู ุฏุงุฆูุงู.

---

### ุงูุญู ุงููุทุจู โ

#### 1๏ธโฃ ุชุญุฏูุซ `startCulturalKnowledge()` [(Lines 258-271)](src/commands/quranicGamesHandler.js#L258-L271)
```javascript
ctx.session.gameState = {
  game: 'quranic',
  type: game.type,
  answerIndex: game.answerIndex,  // โ ุงูููุฑุณ ุงูุตุญูุญ
  options: game.options,           // โ ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ
  reward: game.reward
};
```

#### 2๏ธโฃ ุชุญุฏูุซ `processAnswer()` [(Lines 322-341)](src/commands/quranicGamesHandler.js#L322-L341)
ูุนุงูุฌุฉ ุฎุงุตุฉ ููุฃุณุฆูุฉ ุงูุซูุงููุฉ:
```javascript
if (gameState.type === 'cultural_knowledge') {
  // ุชุญููู ุฅุฌุงุจุฉ ุงููุณุชุฎุฏู ุฅูู ููุฑุณ
  let userIndex = -1;
  const cleanAnswer = String(userAnswer).trim().toUpperCase();

  // ุงูุชุญูู ูู ุงูุฃุญุฑู (A, B, C, D)
  if (cleanAnswer.length === 1 && cleanAnswer >= 'A' && cleanAnswer <= 'D') {
    userIndex = cleanAnswer.charCodeAt(0) - 65; // A=0, B=1, C=2, D=3
  }
  // ุงูุชุญูู ูู ุงูุฃุฑูุงู (1, 2, 3, 4)
  else if (cleanAnswer >= '1' && cleanAnswer <= '4') {
    userIndex = parseInt(cleanAnswer) - 1; // 1โ0, 2โ1, 3โ2, 4โ3
  }

  // ููุงุฑูุฉ ุงูููุฑุณ ูุน ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
  isCorrect = userIndex === gameState.answerIndex;
  correctAnswer = gameState.options[gameState.answerIndex];
}
```

---

### ููููุฉ ุงูุนูู ุงูุขู โจ

#### ุงููุณุชุฎุฏู ูุฑู:
```
๐ง ุฃุณุฆูุฉ ุซูุงููุฉ ุฅุณูุงููุฉ

โ ุงูุณุคุงู:
ูู ูู ุฃู ุงููุคูููู ุงูุฃูููุ

ุงูุฅุฌุงุจุงุช:
A) ุฎุฏูุฌุฉ
B) ุนุงุฆุดุฉ
C) ุณูุฏุฉ
D) ุฃู ุณููุฉ

๐ก ุฃุฑุณู ุงูุญุฑู (A, B, C, D) ุฃู ุฑูู ุงูุฎูุงุฑ (1, 2, 3, 4)
```

#### ุงููุณุชุฎุฏู ูุฑุฏ ุจู:
- **A** ุฃู **a** โ ุชุญููู ุฅูู 0 โ ููุงุฑูุฉ ูุน `answerIndex: 0` โ โ ุตุญูุญ!
- **1** โ ุชุญููู ุฅูู 0 โ ููุงุฑูุฉ ูุน `answerIndex: 0` โ โ ุตุญูุญ!
- **B** ุฃู **2** โ ุชุญููู ุฅูู 1 โ ููุงุฑูุฉ ูุน `answerIndex: 0` โ โ ุฎุทุฃ

---

### ุงููููุงุช ุงููุนุฏูุฉ ๐
- `src/commands/quranicGamesHandler.js`
  - `startCulturalKnowledge()` - ุงูุฃุณุทุฑ 258-271
  - `processAnswer()` - ุงูุฃุณุทุฑ 322-341

### ุนุฏุฏ ุงูุฃุณุฆูุฉ ๐
- **ูุนุจุฉ ุงูุฃุณุฆูุฉ ุงูุซูุงููุฉ**: 115 ุณุคุงู
- **ุตูุบ ุงูุฅุฌุงุจุฉ ุงูููุจููุฉ**:
  - ุฃุญุฑู ูุจูุฑุฉ: A, B, C, D
  - ุฃุญุฑู ุตุบูุฑุฉ: a, b, c, d
  - ุฃุฑูุงู: 1, 2, 3, 4

### ุงููุชูุฌุฉ ๐
โ ุงููุณุชุฎุฏู ุงูุขู ููููู ุงูุฑุฏ ุจุฃู ุตูุบุฉ (ุฃุญุฑู ุฃู ุฃุฑูุงู)
โ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ ุชูุณุฌู ุจูุฌุงุญ
โ ุงูุฅุฌุงุจุงุช ุงูุฎุงุทุฆุฉ ุชูุธูุฑ ุงูุฌูุงุจ ุงูุตุญูุญ
โ ูุญุตู ุนูู ุงูููุงุท ุนูุฏ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ

---

### ููููุฉ ุงูุงุฎุชุจุงุฑ ๐งช
```bash
# ุจุฏุก ุงูุจูุช
npm start

# ุงุฎุชุฑ ูุนุจุฉ "ุฃุณุฆูุฉ ุซูุงููุฉ" 
# ุฌุงูุจ ุจู A, B, C, D ุฃู 1, 2, 3, 4
# ุณูููู "ุฅุฌุงุจุฉ ุตุญูุญุฉ!" ุฃู ูุฎุจุฑู ุจุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
```

**ุงูุชุงุฑูุฎ**: 13 ูุจุฑุงูุฑ 2026
**ุงูุฅุตุฏุงุฑ**: v2.4.0
